{"ast":null,"code":"import _asyncToGenerator from\"/Users/morganjordan/Development/react_apps/morgansjordan/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/morganjordan/Development/react_apps/morgansjordan/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/morganjordan/Development/react_apps/morgansjordan/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),term=_useState2[0],setTerm=_useState2[1];var _useState3=useState(term),_useState4=_slicedToArray(_useState3,2),debouncedTerm=_useState4[0],setDebouncedTerm=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),results=_useState6[0],setResults=_useState6[1];useEffect(function(){var timerId=setTimeout(function(){setDebouncedTerm(term);},1000);return function(){clearTimeout(timerId);};},[term]);useEffect(function(){var search=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('https://en.wikipedia.org/w/api.php',{params:{action:'query',list:'search',origin:'*',format:'json',srsearch:debouncedTerm}});case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setResults(data.query.search);case 5:case\"end\":return _context.stop();}}},_callee);}));return function search(){return _ref.apply(this,arguments);};}();search();},[debouncedTerm]);var renderedResults=results.map(function(result){return/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"right floated content\"}),/*#__PURE__*/_jsx(\"a\",{className:\"ui button\",href:\"https://en.wikipedia.org?curid=\".concat(result.pageid),children:\"Go\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:result.title}),/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:result.snippet}})]})]},result.pageid);});return/*#__PURE__*/_jsxs(\"div\",{className:\"ui container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ui form\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Search using the Wikipedia API\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Enter Search Term Here\"}),/*#__PURE__*/_jsx(\"input\",{value:term,onChange:function onChange(e){return setTerm(e.target.value);},className:\"input\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"ui celled list\",children:renderedResults})]});};export default Search;","map":{"version":3,"sources":["/Users/morganjordan/Development/react_apps/morgansjordan/src/components/Search.js"],"names":["React","useState","useEffect","axios","Search","term","setTerm","debouncedTerm","setDebouncedTerm","results","setResults","timerId","setTimeout","clearTimeout","search","get","params","action","list","origin","format","srsearch","data","query","renderedResults","map","result","pageid","title","__html","snippet","e","target","value"],"mappings":"6aAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjB,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,eAA0CL,QAAQ,CAACI,IAAD,CAAlD,yCAAOE,aAAP,eAAsBC,gBAAtB,eACA,eAA8BP,QAAQ,CAAC,EAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eAEAR,SAAS,CAAC,UAAM,CACZ,GAAMS,CAAAA,OAAO,CAAGC,UAAU,CAAC,UAAM,CAC7BJ,gBAAgB,CAACH,IAAD,CAAhB,CACH,CAFyB,CAEvB,IAFuB,CAA1B,CAGA,MAAO,WAAM,CACTQ,YAAY,CAACF,OAAD,CAAZ,CACH,CAFD,CAGH,CAPQ,CAON,CAACN,IAAD,CAPM,CAAT,CASAH,SAAS,CAAC,UAAM,CACZ,GAAMY,CAAAA,MAAM,0FAAG,mLACUX,CAAAA,KAAK,CAACY,GAAN,CAAU,oCAAV,CAAgD,CACjEC,MAAM,CAAC,CACHC,MAAM,CAAE,OADL,CAEHC,IAAI,CAAE,QAFH,CAGHC,MAAM,CAAE,GAHL,CAIHC,MAAM,CAAE,MAJL,CAKHC,QAAQ,CAAEd,aALP,CAD0D,CAAhD,CADV,uCACJe,IADI,kBACJA,IADI,CAWXZ,UAAU,CAACY,IAAI,CAACC,KAAL,CAAWT,MAAZ,CAAV,CAXW,sDAAH,kBAANA,CAAAA,MAAM,0CAAZ,CAaAA,MAAM,GACT,CAfQ,CAeN,CAACP,aAAD,CAfM,CAAT,CAiBI,GAAMiB,CAAAA,eAAe,CAAGf,OAAO,CAACgB,GAAR,CAAY,SAACC,MAAD,CAAY,CAC5C,mBACI,aAAyB,SAAS,CAAC,MAAnC,wBACI,YAAK,SAAS,CAAC,uBAAf,EADJ,cAEI,UACI,SAAS,CAAC,WADd,CAEI,IAAI,0CAAoCA,MAAM,CAACC,MAA3C,CAFR,gBAFJ,cAMI,aAAK,SAAS,CAAC,SAAf,wBACI,YAAK,SAAS,CAAC,QAAf,UACKD,MAAM,CAACE,KADZ,EADJ,cAII,aAAM,uBAAuB,CAAE,CAAEC,MAAM,CAAEH,MAAM,CAACI,OAAjB,CAA/B,EAJJ,GANJ,GAAUJ,MAAM,CAACC,MAAjB,CADJ,CAeH,CAhBuB,CAAxB,CAkBJ,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,SAAS,CAAC,SAAf,uBACI,aAAK,SAAS,CAAC,OAAf,wBACI,sDADJ,cAEI,iDAFJ,cAGI,cACI,KAAK,CAAEtB,IADX,CAEI,QAAQ,CAAE,kBAAC0B,CAAD,QAAOzB,CAAAA,OAAO,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAFd,CAGI,SAAS,CAAC,OAHd,EAHJ,GADJ,EADJ,cAYI,YAAK,SAAS,CAAC,gBAAf,UACKT,eADL,EAZJ,GADJ,CAmBH,CApED,CAsEA,cAAepB,CAAAA,MAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\n\nconst Search = () => {\n    const [term, setTerm] = useState('');\n    const [debouncedTerm, setDebouncedTerm] = useState(term);\n    const [results, setResults] = useState([]);\n\n    useEffect(() => {\n        const timerId = setTimeout(() => {\n            setDebouncedTerm(term);\n        }, 1000);\n        return () => {\n            clearTimeout(timerId);\n        }\n    }, [term]);\n\n    useEffect(() => {\n        const search = async () => {\n            const {data} = await axios.get('https://en.wikipedia.org/w/api.php', {\n                params:{\n                    action: 'query',\n                    list: 'search',\n                    origin: '*',\n                    format: 'json',\n                    srsearch: debouncedTerm\n                }\n            });\n\n            setResults(data.query.search);\n        };\n        search();\n    }, [debouncedTerm]);\n\n        const renderedResults = results.map((result) => {\n            return (\n                <div key={result.pageid} className=\"item\">\n                    <div className=\"right floated content\"></div>\n                    <a \n                        className=\"ui button\"\n                        href={`https://en.wikipedia.org?curid=${result.pageid}`}\n                    >Go</a>\n                    <div className=\"content\">\n                        <div className=\"header\">\n                            {result.title}\n                        </div>\n                        <span dangerouslySetInnerHTML={{ __html: result.snippet}}></span>\n\n                    </div>\n                </div>)\n        })\n\n    return (\n        <div className=\"ui container\">\n            <div className=\"ui form\">\n                <div className='field'>\n                    <h1>Search using the Wikipedia API</h1>\n                    <label>Enter Search Term Here</label>\n                    <input \n                        value={term}\n                        onChange={(e) => setTerm(e.target.value)}    \n                        className=\"input\" \n                    />\n                </div>\n            </div>\n            <div className=\"ui celled list\">\n                {renderedResults}\n            </div>\n        </div>\n\n    )\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}